name: ClinicalTherapy
id: https://w3id.org/htan/clinical/therapy
description: HTAN Clinical Data Model - Therapy Domain
imports:
  - uberon_tissues

enums:
  antineoplastic_agent_enum:
    permissible_values:
      "NCIT:C287":
        description: Cisplatin
      "NCIT:C1647":
        description: Carboplatin
      "NCIT:C1522":
        description: Paclitaxel
      "NCIT:C1858":
        description: Docetaxel
      "NCIT:C1634":
        description: Doxorubicin
      "NCIT:C1582":
        description: Cyclophosphamide
      "NCIT:C1704":
        description: Fluorouracil
      "NCIT:C1831":
        description: Gemcitabine
      "NCIT:C1717":
        description: Irinotecan
      "NCIT:C1874":
        description: Methotrexate
      "NCIT:C1906":
        description: Oxaliplatin
      "NCIT:C1935":
        description: Pemetrexed
      "NCIT:C1960":
        description: Rituximab
      "NCIT:C2039":
        description: Trastuzumab
      "NCIT:C2057":
        description: Vinblastine
      "NCIT:C2065":
        description: Vincristine
      "NCIT:C2191":
        description: Bevacizumab
      "NCIT:C2645":
        description: Cetuximab
      "NCIT:C2720":
        description: Erlotinib
      "NCIT:C2721":
        description: Gefitinib
      "NCIT:C2722":
        description: Imatinib
      "NCIT:C2723":
        description: Lapatinib
      "NCIT:C2724":
        description: Sorafenib
      "NCIT:C2725":
        description: Sunitinib
      "NCIT:C2726":
        description: Temsirolimus
      "NCIT:C2727":
        description: Everolimus
      "NCIT:C2728":
        description: Pazopanib
      "NCIT:C2729":
        description: Nilotinib
      "NCIT:C2730":
        description: Dasatinib
      "NCIT:C2731":
        description: Bosutinib
      "NCIT:C2732":
        description: Ponatinib
      "NCIT:C2733":
        description: Regorafenib
      "NCIT:C2734":
        description: Cabozantinib
      "NCIT:C2735":
        description: Vandetanib
      "NCIT:C2736":
        description: Axitinib
      "NCIT:C2737":
        description: Crizotinib
      "NCIT:C2738":
        description: Vemurafenib
      "NCIT:C2739":
        description: Dabrafenib
      "NCIT:C2740":
        description: Trametinib
      "NCIT:C2741":
        description: Cobimetinib
      "NCIT:C2742":
        description: Pembrolizumab
      "NCIT:C2743":
        description: Nivolumab
      "NCIT:C2744":
        description: Ipilimumab
      "NCIT:C2745":
        description: Atezolizumab
      "NCIT:C2746":
        description: Durvalumab
      "NCIT:C2747":
        description: Avelumab
      "Not Reported":
        description: Not reported
      "Unknown":
        description: Unknown antineoplastic agent

  PharmacotherapyTypeEnum:
    permissible_values:
      "Chemotherapy":
        description: Treatment with chemical substances to kill or inhibit the growth of cancer cells
      "Hormone Therapy":
        description: Treatment that adds, blocks, or removes hormones to slow or stop the growth of cancer cells
      "Immunotherapy":
        description: Treatment that uses the body's immune system to fight cancer
      "Targeted Therapy":
        description: Treatment that targets specific genes, proteins, or the tissue environment that contributes to cancer growth
      "Not Reported":
        description: Not reported
      "Other":
        description: Other type of pharmacotherapy
      "Unknown":
        description: Unknown type of pharmacotherapy

  OffTreatmentReasonEnum:
    permissible_values:
      "Adverse Event":
        description: Treatment stopped due to adverse events
      "Completed Planned Treatment":
        description: Treatment completed as planned
      "Death":
        description: Treatment stopped due to death
      "Disease Progression":
        description: Treatment stopped due to disease progression
      "Not Reported":
        description: Not reported
      "Other":
        description: Other reason for stopping treatment
      "Patient Decision":
        description: Treatment stopped at patient's request
      "Physician Decision":
        description: Treatment stopped at physician's discretion
      "Unknown":
        description: Unknown reason for stopping treatment

  RegimenOrLineOfTherapyEnum:
    permissible_values:
      "First Line":
        description: First line of therapy
      "Second Line":
        description: Second line of therapy
      "Third Line":
        description: Third line of therapy
      "Fourth Line":
        description: Fourth line of therapy
      "Fifth Line":
        description: Fifth line of therapy
      "Not Reported":
        description: Not reported
      "Other":
        description: Other line of therapy
      "Unknown":
        description: Unknown line of therapy

  TreatmentIntentTypeEnum:
    permissible_values:
      "Adjuvant":
        description: Treatment given after the primary treatment to increase the chances of a cure
      "Curative":
        description: A therapy designed to cure a condition
      "Maintenance":
        description: Continuation of treatment for an extended period of time to prevent relapse
      "Neoadjuvant":
        description: Therapy administered prior to the primary treatment for the purpose of making the primary treatment more effective
      "Palliative":
        description: Treatment focused on providing relief from symptoms and improving quality of life
      "Prevention":
        description: An attempt to prevent disease
      "Not Reported":
        description: Not reported
      "Unknown":
        description: Unknown treatment intent

  TreatmentTypeEnum:
    permissible_values:
      "3-Dimensional Conformal Radiation Therapy":
        description: A process by which a dose of radiation is automatically shaped to closely conform to the entire volume of the tumor
      "Allogeneic Hematopoietic Stem Cell Transplantation":
        description: A clinical treatment in which HSC capable of reconstituting the immune system and blood production are transferred from one genetically dissimilar individual to another
      "Autologous Stem Cell Transplantation":
        description: The transference of stem cells within the same individual
      "Brachytherapy":
        description: A type of radiation therapy in which radioactive material sealed in needles, seeds, wires, or catheters is placed directly into or near a tumor
      "Cellular Therapy":
        description: Utilization of specific cells, modified or not, for treatment of diseases
      "Chemotherapy":
        description: A type of cancer treatment that uses drugs to kill cancer cells
      "Concurrent Chemoradiation":
        description: Treatment in which radiation therapy is administered at the same time as chemotherapy
      "Conventional Radiotherapy":
        description: A course of radiotherapy where minimal imaging support is used to determine the positioning of radiotherapy
      "Electron Beam Radiation Therapy":
        description: Radiation therapy using electron beam
      "External Beam Radiation Therapy":
        description: A type of radiation therapy that uses a machine to aim high-energy rays at the cancer from outside of the body
      "High-Dose Rate Brachytherapy":
        description: Internal radiation treatment that targets a cancerous tissue with accurate, high doses of radiation through the use of inserted temporary implants
      "Hormone Therapy":
        description: A type of cancer treatment that removes, blocks, or adds hormones to treat cancer
      "Immunotherapy":
        description: A type of cancer treatment that helps your immune system fight cancer
      "Intensity-Modulated Radiation Therapy":
        description: An advanced form of 3-Dimensional Conformal Radiation Therapy
      "Low-Dose Rate Brachytherapy":
        description: Internal radiation treatment that targets a cancerous tissue with low doses of radiation through the use of inserted temporary or permanent implants
      "Not Reported":
        description: Not reported
      "Organ Transplantation":
        description: The transfer of an organ, organ part, or tissue from one body to another
      "Palliative Care":
        description: Palliative care is the patient-and family-centered active holistic care of patients with advanced, progressive disease
      "Pharmacotherapy":
        description: Treatment of disease through the use of drugs
      "Photon Beam Radiation Therapy":
        description: Radiation therapy using photon beam
      "Proton Beam Radiation Therapy":
        description: A type of external beam radiation therapy using a beam of protons
      "Radiation Therapy":
        description: Treatment of a disease by means of exposure of the target or the whole body to radiation
      "Radiofrequency Ablation":
        description: A therapeutic procedure to eradicate or reduce small tumors using radiowaves to generate heat
      "Radiopharmaceutical":
        description: Treatment with an agent that contains a radioactive pharmaceutical agent
      "Stem Cell Transplant":
        description: A therapeutic procedure that involves the transplantation of hematopoietic stem cells
      "Stereotactic Body Radiation Therapy":
        description: Stereotactic radiation therapy in which one or several maximum dose radiation treatments are delivered targeting cancers of the body
      "Stereotactic Radiosurgery":
        description: A type of external radiation therapy that uses special equipment to position the patient and precisely give a single large dose of radiation to a tumor
      "Surgical Procedure":
        description: A diagnostic or treatment procedure performed by manual and/or instrumental means
      "Targeted Molecular Therapy":
        description: Cancer therapies designed to act upon specific molecules in metabolic pathways or processes involved in carcinogenesis
      "Unknown":
        description: Unknown treatment type

classes:
  Therapy:
    description: Information about therapeutic interventions
    attributes:
      INITIAL_DISEASE_STATUS:
        range: string
        required: true
        description: Status of the individual's malignancy when the treatment began
      TREATMENT_INTENT_TYPE:
        range: TreatmentIntentTypeEnum
        required: true
        description: Anticipated outcome for therapy
      TREATMENT_TYPE:
        range: TreatmentTypeEnum
        required: true
        multivalued: true
        pattern: "^[^|]+(\\|[^|]+)*$"
        description: Type of treatment administered
      PHARMACOTHERAPY_TYPE:
        range: PharmacotherapyTypeEnum
        required: true
        description: Whether single or combination pharmacotherapy was used
      THERAPEUTIC_AGENTS:
        range: antineoplastic_agent_enum
        required: true
        multivalued: true
        pattern: "^[^|]+(\\|[^|]+)*$"
        description: The NCit Preferred Name(s) of the Therapeutic agent(s)
      THERAPY_ANATOMIC_SITE_UBERON_CODE:
        range: tissue_or_organ_of_origin_uberon_enum
        required: false
        description: UBERON identifier for the location within the body targeted by a therapeutic procedure
      AGE_IN_DAYS_AT_TREATMENT_START:
        range: integer
        required: true
        description: The age in days of the subject at the time that this treatment was started
      AGE_IN_DAYS_AT_TREATMENT_END:
        range: integer
        required: true
        description: The age in days of the subject at the time that this treatment was completed
      OFF_TREATMENT_REASON:
        range: OffTreatmentReasonEnum
        required: false
        description: Reason for stopping treatment
      REGIMEN_OR_LINE_OF_THERAPY:
        range: RegimenOrLineOfTherapyEnum
        required: false
        description: Line of therapy
      NUMBER_OF_CYCLES:
        range: integer
        required: false
        description: Number of treatment cycles administered
      RESPONSE:
        range: string
        required: false
        description: Response to treatment
    slot_usage:
      THERAPY_ANATOMIC_SITE_UBERON_CODE:
        required: false
        description: Required when TREATMENT_TYPE is a surgical or radiation therapy
      OFF_TREATMENT_REASON:
        required: false
        description: Required when AGE_IN_DAYS_AT_TREATMENT_END is present
      REGIMEN_OR_LINE_OF_THERAPY:
        required: false
        description: Required when TREATMENT_TYPE is pharmacotherapy
      NUMBER_OF_CYCLES:
        required: false
        description: Required when TREATMENT_TYPE is pharmacotherapy
      RESPONSE:
        required: false
        description: Required when AGE_IN_DAYS_AT_TREATMENT_END is present
    rules:
      - description: "When treatment type is surgical or radiation therapy, anatomic site becomes required"
        preconditions:
          slot_conditions:
            TREATMENT_TYPE:
              any_of:
                - pattern: ".*Surgical.*"
                - pattern: ".*Radiation.*"
        postconditions:
          slot_conditions:
            THERAPY_ANATOMIC_SITE_UBERON_CODE:
              required: true
      - description: "When treatment end date is present, off-treatment reason and response become required"
        preconditions:
          slot_conditions:
            AGE_IN_DAYS_AT_TREATMENT_END:
              required: true
        postconditions:
          slot_conditions:
            OFF_TREATMENT_REASON:
              required: true
            RESPONSE:
              required: true
      - description: "When treatment type is pharmacotherapy, regimen and cycles become required"
        preconditions:
          slot_conditions:
            TREATMENT_TYPE:
              equals_string: "Pharmacotherapy"
        postconditions:
          slot_conditions:
            REGIMEN_OR_LINE_OF_THERAPY:
              required: true
            NUMBER_OF_CYCLES:
              required: true 